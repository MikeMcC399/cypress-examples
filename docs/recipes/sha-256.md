# Compute SHA256 from HTML

<!-- fiddle Compute SHA-256 digest -->

```html
<div id="greeting">
  <span id="form">Hello</span>, <span id="target">World</span>!
</div>
```

Here is an example async function computing the SHA-256 digest using the browser built-in APIs. Take from [Mozilla Docs](https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/digest)

```js hide
async function digestMessage(message) {
  // encode as (utf-8) Uint8Array
  const msgUint8 = new TextEncoder().encode(message)
  const hashBuffer = await crypto.subtle.digest(
    'SHA-256',
    msgUint8,
  ) // hash the message
  const hashArray = Array.from(new Uint8Array(hashBuffer))
  const hashHex = hashArray
    .map((b) => b.toString(16).padStart(2, '0'))
    .join('') // convert bytes to hex string
  return hashHex
}
```

```js
cy.get('#greeting')
  .invoke('html')
  .invoke('trim')
  .then(digestMessage)
  .should('be.a', 'string')
```

<!-- fiddle-end -->
